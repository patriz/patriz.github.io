<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <title>
    Falcon REST API // Philbert
  </title>

  <link href="http://gmpg.org/xfn/11" rel="profile">
<meta http-equiv="content-type" content="text/html; charset=utf-8">


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="">
<meta name="generator" content="Hugo 0.16" />

  <meta property="og:title" content="Falcon REST API" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />
<meta property="og:url" content="https://ziwon.github.io/posts/falcon-rest-template/" />


  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/base-min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/pure-min.css">
  
  
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/grids-responsive-min.css">
  
  

  <link rel="stylesheet" href="https://ziwon.github.io//css/redlounge.css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  <link href='//fonts.googleapis.com/css?family=Raleway:400,200,100,700,300,500,600,800' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Philbert" />

    
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/styles/tomorrow-night-bright.min.css">
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.7/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>


  

  

  
</head>

<body>
  

  <div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
  <div class="header">
    

    <h1 class="brand-title">Philbert{}</h1>
    <h2 class="brand-tagline">Developer, Pianist, Runner, Mathematician</h2>

    <nav class="nav">
      <ul class="nav-list">
        <li class="nav-item"><span class="nav-item-separator">//</span><a href="https://ziwon.github.io/">Home</a></li>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/about">About</a></li>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/posts">Blog</a></li>
        
      </ul>
    </nav>

    
    <div class="social-buttons">
      
        
        <a href="https://projects.felixlab.io" target="_blank"><i class='fa fa-line-chart'></i></a>
        
      
        
        <a href="https://github.com/ziwon" target="_blank"><i class='fa fa-github'></i></a>
        
      
        
        <a href="https://instagram.com/luno77" target="_blank"><i class='fa fa-instagram'></i></a>
        
      
        
        <a href="https://ziwon.github.io/index.xml" target="_blank"><i class='fa fa-rss'></i></a>
        
      
      
    </div>
    

  </div>
</div>

  
  

    <div class="content pure-u-1 pure-u-md-3-4">
    <a name="top"></a>
    

    
      <section class="post">
            <h1 class="post-title">
              <a href="/posts/falcon-rest-template/">Falcon REST API</a>
            </h1>
            <h3 class="post-subtitle">
              
            </h3>
            
              <span class="post-date">
                  <span class="post-date-day"><sup>4</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Sep</span> <span class="post-date-year">2015</span>
              </span>
              
            
              
            

      
      
        <div class="post-categories">
        
          <a class="post-category post-category-programming" href="https://ziwon.github.io//categories/programming">Programming</a>
        
        </div>
      

      
          <div class="social-sharing">
	<a class="share-button-facebook" onClick="return popupShare(this.href);" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fziwon.github.io%2fposts%2ffalcon-rest-template%2f" target="_blank"><i class="fa fa-facebook"><span>Like</span></i></a>
	<a class="share-button-google-plus" onClick="return popupShare(this.href);" href="https://plus.google.com/share?url=https%3a%2f%2fziwon.github.io%2fposts%2ffalcon-rest-template%2f" target="_blank"><i class="fa fa-google-plus"><span>Google +1</span></i></a>
	<a class="share-button-linkedin" onClick="return popupShare(this.href);" href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fziwon.github.io%2fposts%2ffalcon-rest-template%2f&title=Falcon%20REST%20API&summary=Cloud%20API%ec%99%80%20%eb%b0%b1%ec%97%94%eb%93%9c%20%ea%b0%9c%eb%b0%9c%ec%97%90%20%ea%b2%bd%eb%9f%89%ed%99%94%eb%90%9c%20%ed%8c%8c%ec%9d%b4%ec%8d%ac%20%ed%94%84%eb%a0%88%ec%9e%84%ec%9b%8c%ed%81%ac%ec%9d%b8%20Falcon%eb%a5%bc%20%ec%9d%b4%ec%9a%a9%ed%95%b4%20%ea%b0%84%eb%8b%a8%ed%95%9c%20REST%20API%20%ed%85%9c%ed%94%8c%eb%a6%bf%ec%9d%84%20%eb%a7%8c%eb%93%a4%ec%96%b4%20%eb%b3%b4%ec%95%98%eb%8b%a4.%20https%3a%2f%2fgithub.com%2fpatriz%2ffalcon-rest-api%20%ea%b0%9c%eb%b0%9c%ed%95%98%eb%8a%94%20%eb%8a%90%eb%82%8c%ec%9d%80%20Flask%ec%99%80%20%eb%b9%84%ec%8a%b7%ed%95%9c%eb%8d%b0%20%28%ec%9d%8c..%20Flask%ec%99%80%20%eb%ad%90%ea%b0%80%20%eb%8b%a4%eb%a5%b4%ec%a7%80%3f%29%20%eb%af%b8%eb%93%a4%ec%9b%a8%ec%96%b4%2c%20%ed%9b%84%ed%82%b9%20%eb%8d%b0%ec%bd%94%eb%a0%88%ec%9d%b4%ec%85%98%20%eb%93%b1%ec%9d%84%20%ec%9d%b4%ec%9a%a9%ed%95%b4%20HTTP%20%ec%9a%94%ec%b2%ad%ea%b3%bc%20%ec%9d%91%eb%8b%b5%ec%97%90%20%eb%8c%80%ed%95%b4%20%ec%b2%b4%ec%9d%b4%eb%8b%9d%20%ec%b2%98%eb%a6%ac%eb%a5%bc%20%ec%a2%80%20%eb%8d%94%20%ec%a7%81%ea%b4%80%ec%a0%81%ec%9c%bc%eb%a1%9c%20%ed%95%a0%20%ec%88%98%20%ec%9e%88%eb%8b%a4.%20%ec%84%b1%eb%8a%a5%ec%9d%b4%20Flask%eb%b3%b4%eb%8b%a4%20%ec%a2%80%20%eb%8d%94%20%eb%b9%a0%eb%a5%b8%20%ea%b2%83%ec%9c%bc%eb%a1%9c%20%ec%95%8c%eb%a0%a4%ec%a0%b8%20%ec%9e%88%eb%8b%a4.%20Rackspace%ec%97%90%ec%84%9c%20%eb%b0%80%ea%b3%a0%ec%9e%88%eb%8a%94%28%3f%29%20Cloud%20API%20%ec%a0%84%ec%9a%a9%20%ed%94%84%eb%a0%88%ec%9e%84%ec%9b%8c%ed%81%ac%ec%9d%b8%eb%8d%b0%2c%20%ec%b5%9c%ec%8b%a0%20%eb%a6%b4%eb%a6%ac%ec%a6%88%20%eb%b2%84%ec%a0%84%ec%9d%80%20%ec%95%84%ec%a7%81%200.3%ec%9d%b4%eb%8b%a4.%20%ec%8b%ac%ed%94%8c%ed%95%98%ea%b3%a0%20%eb%af%b8%eb%8b%88%eb%a9%80%ed%95%9c%20%ea%b1%b8%20%ec%a2%8b%ec%95%84%ed%95%9c%eb%8b%a4%eb%a9%b4%20%ed%95%b4%eb%b3%bc%eb%a7%8c%ed%95%98%eb%8b%a4.%20%eb%ac%b8%ec%84%9c%ec%97%90%eb%8f%84%20%eb%82%98%ec%99%80%ec%9e%88%ec%a7%80%eb%a7%8c%2c%20Cython%ec%9d%84%20%ec%9d%b4%ec%9a%a9%ed%95%98%eb%a9%b4%20%ec%95%bd%2020%25%20%ec%a0%95%eb%8f%84%ec%9d%98%20%ec%84%b1%eb%8a%a5%ed%9a%a8%ea%b3%bc%eb%a5%bc%20%eb%b3%bc%20%ec%88%98%20%ec%9e%88%eb%8b%a4.}&source=Philbert" target="_blank"><i class="fa fa-linkedin"><span>Share on LinkedIn</span></i></a>
	<a class="share-button-twitter" onClick="return popupShare(this.href);" href="http://twitter.com/share?text=Falcon%20REST%20API&url=https%3a%2f%2fziwon.github.io%2fposts%2ffalcon-rest-template%2f" target="_blank"><i class="fa fa-twitter"><span>Tweet</span></i></a>	
</div>
        

      

            <p>Cloud API와 백엔드 개발에 경량화된 파이썬 프레임워크인 <a href="http://falconframework.org">Falcon</a>를 이용해 간단한 REST API 템플릿을 만들어 보았다.</p>

<p><a href="https://github.com/patriz/falcon-rest-api">https://github.com/patriz/falcon-rest-api</a></p>

<p>개발하는 느낌은 Flask와 비슷한데 (음.. Flask와 뭐가 다르지?) 미들웨어, 후킹 데코레이션 등을 이용해 HTTP 요청과 응답에 대해 체이닝 처리를 좀 더 직관적으로 할 수 있다. 성능이 Flask보다 좀 더 빠른 것으로 알려져 있다. Rackspace에서 밀고있는(?) Cloud API 전용 프레임워크인데, 최신 릴리즈 버전은 아직 0.3이다. 심플하고 미니멀한 걸 좋아한다면 해볼만하다.</p>

<p>문서에도 나와있지만, Cython을 이용하면 약 20% 정도의 성능효과를 볼 수 있다.</p>

<pre><code>pip install --upgrade cython falcon
</code></pre>

<p>다음은 Go와 성능비교이다.</p>

<p><strong>falcon rest api with gunicorn (-w 9 -k gevent)</strong></p>

<pre><code>wrk -t10 -c100 -d30s http://localhost:5000
Running 30s test @ http://localhost:5000
  10 threads and 100 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   221.79ms  414.03ms   2.00s    85.43%
    Req/Sec   755.94    486.41     2.77k    64.26%
  139452 requests in 30.08s, 32.98MB read
  Socket errors: connect 0, read 0, write 0, timeout 389
Requests/sec:   4636.13
Transfer/sec:      1.10MB
</code></pre>

<p><strong>sample http server with gogin only</strong></p>

<pre><code>wrk -t10 -c100 -d30s http://localhost:8080
Running 30s test @ http://localhost:8080
  10 threads and 100 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     6.65ms    6.50ms  76.68ms   76.00%
    Req/Sec     1.83k   402.97     5.40k    74.30%
  547412 requests in 30.08s, 92.93MB read
Requests/sec:  18199.96
Transfer/sec:      3.09MB
</code></pre>

<p>참고로 테스트 하드웨어 장비는 다음과 같다. (구린 내 아이맥ㅠ)</p>

<pre><code>  Model Name:	iMac
  Model Identifier:	iMac11,3
  Processor Name:	Intel Core i5
  Processor Speed:	2.8 GHz
  Number of Processors:	1
  Total Number of Cores:	4
  L2 Cache (per Core):	256 KB
  L3 Cache:	8 MB
  Memory:	12 GB
  Processor Interconnect Speed:	4.8 GT/s
  Boot ROM Version:	IM112.0057.B01
  SMC Version (system):	1.59f2
</code></pre>

  
      
          <div class="social-sharing">
	<a class="share-button-facebook" onClick="return popupShare(this.href);" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fziwon.github.io%2fposts%2ffalcon-rest-template%2f" target="_blank"><i class="fa fa-facebook"><span>Like</span></i></a>
	<a class="share-button-google-plus" onClick="return popupShare(this.href);" href="https://plus.google.com/share?url=https%3a%2f%2fziwon.github.io%2fposts%2ffalcon-rest-template%2f" target="_blank"><i class="fa fa-google-plus"><span>Google +1</span></i></a>
	<a class="share-button-linkedin" onClick="return popupShare(this.href);" href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fziwon.github.io%2fposts%2ffalcon-rest-template%2f&title=Falcon%20REST%20API&summary=Cloud%20API%ec%99%80%20%eb%b0%b1%ec%97%94%eb%93%9c%20%ea%b0%9c%eb%b0%9c%ec%97%90%20%ea%b2%bd%eb%9f%89%ed%99%94%eb%90%9c%20%ed%8c%8c%ec%9d%b4%ec%8d%ac%20%ed%94%84%eb%a0%88%ec%9e%84%ec%9b%8c%ed%81%ac%ec%9d%b8%20Falcon%eb%a5%bc%20%ec%9d%b4%ec%9a%a9%ed%95%b4%20%ea%b0%84%eb%8b%a8%ed%95%9c%20REST%20API%20%ed%85%9c%ed%94%8c%eb%a6%bf%ec%9d%84%20%eb%a7%8c%eb%93%a4%ec%96%b4%20%eb%b3%b4%ec%95%98%eb%8b%a4.%20https%3a%2f%2fgithub.com%2fpatriz%2ffalcon-rest-api%20%ea%b0%9c%eb%b0%9c%ed%95%98%eb%8a%94%20%eb%8a%90%eb%82%8c%ec%9d%80%20Flask%ec%99%80%20%eb%b9%84%ec%8a%b7%ed%95%9c%eb%8d%b0%20%28%ec%9d%8c..%20Flask%ec%99%80%20%eb%ad%90%ea%b0%80%20%eb%8b%a4%eb%a5%b4%ec%a7%80%3f%29%20%eb%af%b8%eb%93%a4%ec%9b%a8%ec%96%b4%2c%20%ed%9b%84%ed%82%b9%20%eb%8d%b0%ec%bd%94%eb%a0%88%ec%9d%b4%ec%85%98%20%eb%93%b1%ec%9d%84%20%ec%9d%b4%ec%9a%a9%ed%95%b4%20HTTP%20%ec%9a%94%ec%b2%ad%ea%b3%bc%20%ec%9d%91%eb%8b%b5%ec%97%90%20%eb%8c%80%ed%95%b4%20%ec%b2%b4%ec%9d%b4%eb%8b%9d%20%ec%b2%98%eb%a6%ac%eb%a5%bc%20%ec%a2%80%20%eb%8d%94%20%ec%a7%81%ea%b4%80%ec%a0%81%ec%9c%bc%eb%a1%9c%20%ed%95%a0%20%ec%88%98%20%ec%9e%88%eb%8b%a4.%20%ec%84%b1%eb%8a%a5%ec%9d%b4%20Flask%eb%b3%b4%eb%8b%a4%20%ec%a2%80%20%eb%8d%94%20%eb%b9%a0%eb%a5%b8%20%ea%b2%83%ec%9c%bc%eb%a1%9c%20%ec%95%8c%eb%a0%a4%ec%a0%b8%20%ec%9e%88%eb%8b%a4.%20Rackspace%ec%97%90%ec%84%9c%20%eb%b0%80%ea%b3%a0%ec%9e%88%eb%8a%94%28%3f%29%20Cloud%20API%20%ec%a0%84%ec%9a%a9%20%ed%94%84%eb%a0%88%ec%9e%84%ec%9b%8c%ed%81%ac%ec%9d%b8%eb%8d%b0%2c%20%ec%b5%9c%ec%8b%a0%20%eb%a6%b4%eb%a6%ac%ec%a6%88%20%eb%b2%84%ec%a0%84%ec%9d%80%20%ec%95%84%ec%a7%81%200.3%ec%9d%b4%eb%8b%a4.%20%ec%8b%ac%ed%94%8c%ed%95%98%ea%b3%a0%20%eb%af%b8%eb%8b%88%eb%a9%80%ed%95%9c%20%ea%b1%b8%20%ec%a2%8b%ec%95%84%ed%95%9c%eb%8b%a4%eb%a9%b4%20%ed%95%b4%eb%b3%bc%eb%a7%8c%ed%95%98%eb%8b%a4.%20%eb%ac%b8%ec%84%9c%ec%97%90%eb%8f%84%20%eb%82%98%ec%99%80%ec%9e%88%ec%a7%80%eb%a7%8c%2c%20Cython%ec%9d%84%20%ec%9d%b4%ec%9a%a9%ed%95%98%eb%a9%b4%20%ec%95%bd%2020%25%20%ec%a0%95%eb%8f%84%ec%9d%98%20%ec%84%b1%eb%8a%a5%ed%9a%a8%ea%b3%bc%eb%a5%bc%20%eb%b3%bc%20%ec%88%98%20%ec%9e%88%eb%8b%a4.}&source=Philbert" target="_blank"><i class="fa fa-linkedin"><span>Share on LinkedIn</span></i></a>
	<a class="share-button-twitter" onClick="return popupShare(this.href);" href="http://twitter.com/share?text=Falcon%20REST%20API&url=https%3a%2f%2fziwon.github.io%2fposts%2ffalcon-rest-template%2f" target="_blank"><i class="fa fa-twitter"><span>Tweet</span></i></a>	
</div>
        

      
        <div class="tags-list">
          <span class="dark-red">Tags</span><span class="decorative-marker">//</span>
          
                  <a class="post-tag post-tag-rest" href="https://ziwon.github.io//tags/rest">rest</a>,
                  
                  <a class="post-tag post-tag-python" href="https://ziwon.github.io//tags/python">python</a>,
                  
                  <a class="post-tag post-tag-falcon" href="https://ziwon.github.io//tags/falcon">falcon</a>,
                  
                  <a class="post-tag post-tag-api" href="https://ziwon.github.io//tags/api">api</a>,
                  
        </div>
      

      
        <div class="paging">
          <span class="paging-label">More Reading</span>
          
          <div class="paging-newer">
            <span class="dark-red">Newer</span><span class="decorative-marker">//</span>
            <a class="paging-link" href="/posts/effective-go-concurrency/">[번역] Effective Go: Concurrency</a>
                </div>
                

          
          <div class="paging-older">
            <span class="dark-red">Older</span><span class="decorative-marker">//</span>
                  <a class="paging-link" href="/about/">About</a>
                </div>
                
              </div>
            
          </section>
          
            <div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'ziwon';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          
        
      <div class="footer">
  <hr class="thin" />
  <div class="pure-menu pure-menu-horizontal pure-menu-open">
    <ul class="footer-menu">
    
    </ul>
  </div>

  <p>&copy; 2016. All rights reserved.</p>
</div>

<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-38934656-1', 'auto');
  ga('send', 'pageview');

</script>
    </div>
  </div>
  

  
    <script type="text/javascript">
      function popupShare(url) {
        window.open(url, '_blank', 'scrollbars,resizable,height=525,width=600');
        return false;
      }
    </script>
  

  
</body>
</html>